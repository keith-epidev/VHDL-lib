with to_integer(unsigned(sqr_summed)) select
	mag <=
		std_logic_vector(to_unsigned(0*20,10)) when 0,
		std_logic_vector(to_unsigned(0*20,10)) when 2**0 to 2**(0+1)-1,
		std_logic_vector(to_unsigned(1*20,10)) when 2**1 to 2**(1+1)-1,
		std_logic_vector(to_unsigned(2*20,10)) when 2**2 to 2**(2+1)-1,
		std_logic_vector(to_unsigned(3*20,10)) when 2**3 to 2**(3+1)-1,
		std_logic_vector(to_unsigned(4*20,10)) when 2**4 to 2**(4+1)-1,
		std_logic_vector(to_unsigned(5*20,10)) when 2**5 to 2**(5+1)-1,
		std_logic_vector(to_unsigned(6*20,10)) when 2**6 to 2**(6+1)-1,
		std_logic_vector(to_unsigned(7*20,10)) when 2**7 to 2**(7+1)-1,
		std_logic_vector(to_unsigned(8*20,10)) when 2**8 to 2**(8+1)-1,
		std_logic_vector(to_unsigned(9*20,10)) when 2**9 to 2**(9+1)-1,
		std_logic_vector(to_unsigned(10*20,10)) when 2**10 to 2**(10+1)-1,
		std_logic_vector(to_unsigned(11*20,10)) when 2**11 to 2**(11+1)-1,
		std_logic_vector(to_unsigned(12*20,10)) when 2**12 to 2**(12+1)-1,
		std_logic_vector(to_unsigned(13*20,10)) when 2**13 to 2**(13+1)-1,
		std_logic_vector(to_unsigned(14*20,10)) when 2**14 to 2**(14+1)-1,
		std_logic_vector(to_unsigned(15*20,10)) when 2**15 to 2**(15+1)-1,
		std_logic_vector(to_unsigned(16*20,10)) when 2**16 to 2**(16+1)-1,
		std_logic_vector(to_unsigned(17*20,10)) when 2**17 to 2**(17+1)-1,
		std_logic_vector(to_unsigned(18*20,10)) when 2**18 to 2**(18+1)-1,
		std_logic_vector(to_unsigned(19*20,10)) when 2**19 to 2**(19+1)-1,
		std_logic_vector(to_unsigned(20*20,10)) when 2**20 to 2**(20+1)-1,
		std_logic_vector(to_unsigned(21*20,10)) when 2**21 to 2**(21+1)-1,
		std_logic_vector(to_unsigned(22*20,10)) when 2**22 to 2**(22+1)-1,
		std_logic_vector(to_unsigned(23*20,10)) when 2**23 to 2**(23+1)-1,
		std_logic_vector(to_unsigned(24*20,10)) when 2**24 to 2**(24+1)-1,
		std_logic_vector(to_unsigned(25*20,10)) when 2**25 to 2**(25+1)-1,
		std_logic_vector(to_unsigned(26*20,10)) when 2**26 to 2**(26+1)-1,
		std_logic_vector(to_unsigned(27*20,10)) when 2**27 to 2**(27+1)-1,
		std_logic_vector(to_unsigned(28*20,10)) when 2**28 to 2**(28+1)-1,
		std_logic_vector(to_unsigned(29*20,10)) when 2**29 to 2**(29+1)-1,
		std_logic_vector(to_unsigned(30*20,10)) when 2**30 to 2**(30+1)-1,
		std_logic_vector(to_unsigned(31*20,10)) when 2**31 to 2**(31+1)-1,
		std_logic_vector(to_unsigned(32*20,10)) when 2**32 to 2**(32+1)-1,
		std_logic_vector(to_unsigned(33*20,10)) when 2**33 to 2**(33+1)-1,
		std_logic_vector(to_unsigned(34*20,10)) when 2**34 to 2**(34+1)-1,
		std_logic_vector(to_unsigned(35*20,10)) when 2**35 to 2**(35+1)-1,
		std_logic_vector(to_unsigned(36*20,10)) when 2**36 to 2**(36+1)-1,
		std_logic_vector(to_unsigned(37*20,10)) when 2**37 to 2**(37+1)-1,
		std_logic_vector(to_unsigned(38*20,10)) when 2**38 to 2**(38+1)-1,
		std_logic_vector(to_unsigned(39*20,10)) when 2**39 to 2**(39+1)-1,
		std_logic_vector(to_unsigned(40*20,10)) when 2**40 to 2**(40+1)-1,
		std_logic_vector(to_unsigned(41*20,10)) when 2**41 to 2**(41+1)-1,
		std_logic_vector(to_unsigned(42*20,10)) when 2**42 to 2**(42+1)-1,
		std_logic_vector(to_unsigned(43*20,10)) when 2**43 to 2**(43+1)-1,
		std_logic_vector(to_unsigned(44*20,10)) when 2**44 to 2**(44+1)-1,
		std_logic_vector(to_unsigned(45*20,10)) when 2**45 to 2**(45+1)-1,
		std_logic_vector(to_unsigned(46*20,10)) when 2**46 to 2**(46+1)-1,
		std_logic_vector(to_unsigned(47*20,10)) when 2**47 to 2**(47+1)-1,
		std_logic_vector(to_unsigned(48*20,10)) when 2**48 to 2**(48+1)-1,
		std_logic_vector(to_unsigned(49*20,10)) when 2**49 to 2**(49+1)-1,
		std_logic_vector(to_unsigned(50*20,10)) when 2**50 to 2**(50+1)-1,
		std_logic_vector(to_unsigned(51*20,10)) when 2**51 to 2**(51+1)-1,
		std_logic_vector(to_unsigned(52*20,10)) when 2**52 to 2**(52+1)-1,
		std_logic_vector(to_unsigned(53*20,10)) when 2**53 to 2**(53+1)-1,
		std_logic_vector(to_unsigned(54*20,10)) when 2**54 to 2**(54+1)-1,
		std_logic_vector(to_unsigned(55*20,10)) when 2**55 to 2**(55+1)-1,
		std_logic_vector(to_unsigned(56*20,10)) when 2**56 to 2**(56+1)-1,
		std_logic_vector(to_unsigned(57*20,10)) when 2**57 to 2**(57+1)-1;
